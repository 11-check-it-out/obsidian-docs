iOS版アプリは現在[[Obsidianモバイル|クローズベータ]]であり、TestFlightにて利用可能です。

## 保管庫はどこに保存されますか？

iCloudで保管庫の保存を行う場合には、保管庫のデータは"Obsidian"という名前のアプリケーションフォルダの直下にあるiCloud Driveアカウント内コンテナに保存されることになります。アプリケーションフォルダはObsidianのロゴアイコンで表示されています。

iCloudでの同期を行わない場合には、保管庫はObsidianアプリのサンドボックスファイルシステムに保存されます。現在、v0.0.14の時点ではローカル保管庫はファイルシステムを介したフォルダ選択をサポートしている他のアプリからアクセスできます。例えば、Working CopyのようなアプリはObsidianのローカル保管庫の同期に使用できます。

現在、ObsidianはFileProviderを介して仮想ファイルシステムを提供するサードパーティの同期サービスプロバイダーに対しての直接的なサポートは行っていません。

## 同期

公式で現在サポートされている2つの同期方法はiCloudとObsidian Syncです。

現在、iOSでは次の同期サービスについてサポート情報がありません。
- Dropbox
- Google Drive
- OneDrive
- Syncthing

iOSでのObsidianについて上記のサービスを利用して同期する方法を見つけた場合には、Discordサーバーに参加していただきセットアップのやり方を教えていただけるとありがたいです。

理論上はデバイス上の特定フォルダをバックグラウンドで同期が可能なサードパーティの同期サービスプロバイダーであれば、2つの同期方法と同様に上手く機能するはずですが、Working Copyを除いてあらゆるサービスが実際に機能するかどうかについては認識していません。これはiOSアプリ間でのファイル共有が高度に複雑な仕組みとなっており、その制約があるためです。すべてのアプリがアクセス可能なパブリックフォルダを提供しているAndroidの場合とは異なります。このため、多くのサードパーティの同期サービスプロバイダーはiOSでのバックグラウンド同期に関する適切な実装を行っていません。

### Obsidian Syncによる同期

下に示したように、Androidでの同期と同様のステップに従うことで同期できます。現在、Obsidian Syncによる同期とiCloudによる同期の両方を同時に使用することは推奨していません。同時使用によって競合状態によるデータ損失の発生が報告されています。

![[Androidアプリ#Obsidian Syncによる同期]]

### iCloud Driveによる同期

iCloud Driveを介した同期のセットアップを行うには、まずはObsidianのiOSアプリをインストールする必要があります。これによってiCloud Driveの下に"Obsidian"という名前のフォルダがObsidianのアプリロゴとともに作成されます。このフォルダはiCloudから特殊フォルダとして認識されるため、iCloud Drive内部に手動で作成する場合のフォルダとは異なることに注意してください。

次に、コンピュータ上で保管庫のフォルダを`iCloud Drive/Obsidian/`に移動させてください。これによってObsidianがiCloud Drive内の特殊アプリフォルダを読み込みできるようになります。

保管庫フォルダ全体をiCloudで同期させたらモバイルデバイス上でObsidianのアプリを開いてください。iCloudで保存されていることを示すクラウドアイコンと共に移動させた保管庫の閲覧が可能になります。

初めて保管庫を開いた際には、iCloudがバックグラウンドですべてのファイルをダウンロードするためにObsidianがしばらくの間フリーズしているように見えるかもしれません。iCloudが一旦すべての同期を完了すれば、アプリはスムーズに動作するはずです。うまく行かない場合には何度かアプリを再起動する必要があるかもしれません。

### Working Copy

iOSでの代替手段として、保管庫の同期を行うためにWorking CopyをセットアップしてGitを利用することも可能です。これを行うためには、まず最初にデバイス上に空のローカル保管庫を作成し、｢フォルダー同期のセットアップ｣を行った後にObsidianのアプリ内部でローカル保管庫を選択してください。これによって、手動でのコミットとプッシュが可能になります。

# サードパーティの同期サービスのサポート

モバイル版Obsidianではなぜ他の同期方法をサポートしていないのかと多くのユーザーから質問されますが、現在のモバイル同期サポートの状況に対する簡単な説明をここに記載しておきます。

Obsidianが1WriterやiA Writerといった他のアプリと異なる部分の一つとしては、単一のノートというよりはむしろ保管庫のトップで機能するということが挙げられます。オートコンプリートや画像埋め込み、タグペイン、バックリンク、そしてすべてのノート間機能などのObsidianが有するコア機能の多くは、保管庫全体とその内部に存在するすべてのファイルに依存しているからです。

対照的に、多くのマークダウン編集アプリは単純に単一のノートを**開き**、ユーザーに編集させ、ノートをバックグラウンドで保存するような仕組みになっています。これによって、OSとサードパーティの同期サービスプロバイダーは通常、保管庫(サブフォルダを持ちうるフォルダやファイル群)を扱うというよりはむしろ、単一ファイルに対してのアクセスや作業のためのAPIを提供するのみとなっています。

標準的なマークダウンエディタのアプリでは、同期のために**選択したファイルを開いた際にファイルをダウンロード**と**保存を行った際にファイルをアップロードして戻す**という基本機能を実装しているのみとなっています。Obsidianでは利便性と共に、変更があった全ファイル(例えば、ファイルのリネームを実行した際には、他のファイルに存在するリンク名が変更されるためにそれら一連のファイルを更新するなどの可能性があります)に対しての追跡を維持するため、保管庫全体をダウンロードする必要があります。その上で、同期ソリューションを介して変更を監視し、ファイル変更の際には内部キャッシュを更新して正確なリンクを提供する方法が必要となってきます。

それらすべてをサードパーティの同期サービスプロバイダーが維持するというのは、かなり大変です。これが、多くの同期サービスプロバイダーがモバイル用に適切な同期クライアントを開発せず、ユーザーがサードパーティのアプリ(DropSyncやFolderSyncなど)を使用しているという事の理由の一つとなっています。残念ながら、iOSではそのようなアプリはサンドボックスがあるために存在しえないのです。

## 既知の問題

### macOSにおけるiCloudフォルダでの問題

macOSでは、iCloudでの同期中にファインダーからObsidianのiCloudフォルダへファイルをドラッグ＆ドロップすることはできません。これはmacOSのバグであり、現在Apple側に修正するように働きかけているところです。いくつかのデスクトップアプリでも同様にObsididianのiCloudフォルダに直接的にファイルを保存させないようになっていることが分かります。

ドラッグ＆ドロップの代わりにコピー＆ペーストを使用することで、この問題は回避することが可能です。またはコマンドラインから `mv` コマンドを使用してファイルを移動させることができます。

### ペーストメニューが表示されないことがある

一部のユーザーからカーソルをタップしてもペーストメニューが表示されないという問題が報告されています。その問題が起こる場合の回避策としては、三本指のタップジェスチャを使用してグローバル編集メニューを開き、そこからテキストへのペーストを行うことができます。